"use strict";(self["webpackChunkbridgefabric"]=self["webpackChunkbridgefabric"]||[]).push([[631],{38631:function(t,e,n){n.r(e),n.d(e,{default:function(){return Q}});var r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("h3",{staticClass:"font-weight-thin text-h3 mt-10"},[t._v(t._s(t.total)+" Nodes")]),n("v-data-table",{staticClass:"elevation-2 mt-15",attrs:{headers:t.tableHeaders,items:t.tableItems,loading:t.loading,page:t.query.page,"items-per-page":t.query.limit_num,"sort-by":"calories"},on:{"update:items-per-page":t.handleCount},scopedSlots:t._u([{key:"item.price",fn:function(e){var r=e.item;return[n("span",[t._v(t._s(r.price)+" BFT")])]}},{key:"item.action",fn:function(e){var r=e.item;return[n("form-dialog",{attrs:{node:r.node},on:{"on-success":t.handleSearch}}),n("get-dialog",{attrs:{node:r.node}})]}},{key:"default",fn:function(){},proxy:!0},{key:"no-data",fn:function(){return[t._v("No data")]},proxy:!0}])})],1)},a=[],o=n(16198),i=(n(78975),function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-dialog",{attrs:{persistent:"","max-width":"600px"},scopedSlots:t._u([{key:"activator",fn:function(e){var r=e.on,a=e.attrs;return[n("v-btn",t._g(t._b({attrs:{"x-medium":"",rounded:""}},"v-btn",a,!1),r),[n("v-icon",{staticClass:"mr-3"},[t._v("mdi-wallet")]),t._v(" Buy Count ")],1)]}}]),model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[n("v-card",[n("v-card-title",[n("span",{staticClass:"text-h5"},[t._v("Buy acotor call amount form node")])]),n("v-card-text",[n("v-form",{model:{value:t.valid,callback:function(e){t.valid=e},expression:"valid"}},[n("v-container",[n("v-content",[t._v("NodeID: "+t._s(t.node))]),n("v-text-field",{attrs:{label:"Actor CID",rules:t.rule.actor,required:""},model:{value:t.form.actor,callback:function(e){t.$set(t.form,"actor",e)},expression:"form.actor"}}),n("v-text-field",{attrs:{label:"Amount",rules:t.rule.amount,min:1,type:"number",required:""},model:{value:t.form.amount,callback:function(e){t.$set(t.form,"amount",t._n(e))},expression:"form.amount"}})],1)],1)],1),n("v-card-actions",[n("v-spacer"),n("v-btn",{attrs:{color:"primary",text:""},on:{click:function(e){t.dialog=!1}}},[t._v("Close")]),n("v-btn",{attrs:{color:"primary",text:"",loading:t.submitting},on:{click:t.handleSubmit}},[t._v("Save ")])],1)],1)],1)}),s=[],l=n(4367),c=n(31423),u={props:["node"],data:function(){return{dialog:!1,valid:!1,serverItems:[],loadingServer:!1,submitting:!1,form:{name:"",host:"",port:null,out_port:null},rule:{actor:[function(t){return!!t||"Actor is required"}],amount:[function(t){return!!t||"Amount is required"}]}}},methods:{handleSubmit:function(){var t=this;return(0,o.Z)(regeneratorRuntime.mark((function e(){var n,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.submitting=!0,n=(0,l.Z)({},t.form),e.next=4,(0,c.iK)(t.node,n.actor,n.amount);case 4:r=e.sent,r!==c.r8?t.$message.warning("buy failed"):t.$message.success("buy success"),t.submitting=!1,t.dialog=!1;case 8:case"end":return e.stop()}}),e)})))()}}},d=u,m=n(1001),v=n(43453),f=n.n(v),p=n(680),g=n(53237),h=n(37118),b=n(68050),x=n(67877),_=n(71824),C=x.Z.extend({name:"v-main",created:function(){(0,_.Rn)("v-content","v-main",this)},render:function(t){var e=x.Z.options.render.call(this,t);return e.data.staticClass+=" v-content",e.children[0].data.staticClass+=" v-content__wrap",t(e.tag,e.data,e.children)}}),w=n(67336),k=n(46232),y=n(96428),Z=n(99762),V=n(55978),I=(0,m.Z)(d,i,s,!1,null,null,null),A=I.exports;f()(I,{VBtn:p.Z,VCard:g.Z,VCardActions:h.h7,VCardText:h.ZB,VCardTitle:h.EB,VContainer:b.Z,VContent:C,VDialog:w.Z,VForm:k.Z,VIcon:y.Z,VSpacer:Z.Z,VTextField:V.Z});var S=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-dialog",{attrs:{"max-width":"600px"},scopedSlots:t._u([{key:"activator",fn:function(e){var r=e.on,a=e.attrs;return[n("v-btn",t._g(t._b({attrs:{"x-medium":"",rounded:""}},"v-btn",a,!1),r),[n("v-icon",{staticClass:"mr-3"},[t._v("mdi-search-web")]),t._v(" Query Count ")],1)]}}]),model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[n("v-card",[n("v-card-title",[n("span",{staticClass:"text-h5"},[t._v("Query acotor call amount left")])]),n("v-card-text",[n("v-form",{model:{value:t.valid,callback:function(e){t.valid=e},expression:"valid"}},[n("v-container",[n("v-content",[t._v("NodeID: "+t._s(t.node))]),n("v-text-field",{attrs:{label:"Actor CID",rules:t.rule.actor,required:""},model:{value:t.form.actor,callback:function(e){t.$set(t.form,"actor",e)},expression:"form.actor"}}),n("v-content",{staticClass:"text-center",staticStyle:{color:"rgb(253 224 71)"}},[t._v("Count Left: "+t._s(t.left))])],1)],1)],1),n("v-card-actions",[n("v-spacer"),n("v-btn",{attrs:{color:"primary",text:""},on:{click:function(e){t.dialog=!1}}},[t._v("Close")]),n("v-btn",{attrs:{color:"primary",text:"",loading:t.submitting},on:{click:t.getAmount}},[t._v("Query ")])],1)],1)],1)},T=[],q={props:["node"],data:function(){return{dialog:!1,valid:!1,serverItems:[],loadingServer:!1,submitting:!1,form:{name:"",host:"",port:null,out_port:null},left:"N/A",rule:{actor:[function(t){return!!t||"Actor is required"}]}}},methods:{getAmount:function(){var t=this;return(0,o.Z)(regeneratorRuntime.mark((function e(){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.submitting=!0,n=(0,l.Z)({},t.form),e.next=4,(0,c.aS)(t.node,n.actor,n.amount);case 4:t.left=e.sent,t.submitting=!1;case 6:case"end":return e.stop()}}),e)})))()}}},R=q,D=(0,m.Z)(R,S,T,!1,null,null,null),B=D.exports;f()(D,{VBtn:p.Z,VCard:g.Z,VCardActions:h.h7,VCardText:h.ZB,VCardTitle:h.EB,VContainer:b.Z,VContent:C,VDialog:w.Z,VForm:k.Z,VIcon:y.Z,VSpacer:Z.Z,VTextField:V.Z});var N=n(50476),$={components:{FormDialog:A,GetDialog:B},data:function(){return{loading:!1,query:{name:"",page:1,limit_num:15},tableHeaders:[{text:"NodeID",value:"node"},{text:"Price per call",value:"price"},{text:"Action",value:"action",width:"380px"}],tableItems:[],total:0}},created:function(){this.addNetwork(),this.getTableItems()},methods:{addNetwork:function(){window.ethereum||this.$message.error("Please install metamask"),window.ethereum.request({method:"wallet_addEthereumChain",params:[{chainId:"0x13881",chainName:"Mumbai",rpcUrls:["https://matic-mumbai.chainstacklabs.com"],blockExplorerUrls:["https://mumbai.polygonscan.com"],nativeCurrency:{name:"MATIC",symbol:"MATIC",decimals:18}}]})},handleSearch:function(){this.query.page=1,this.getTableItems()},getTableItems:function(){var t=this;return(0,o.Z)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.loading=!0,e.next=3,(0,c.cb)();case 3:t.tableItems=e.sent,t.total=t.tableItems.length,t.loading=!1;case 6:case"end":return e.stop()}}),e)})))()},buy:function(t){return(0,o.Z)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:N.log(t);case 1:case"end":return e.stop()}}),e)})))()},queryAmount:function(t){return(0,o.Z)(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:case"end":return t.stop()}}),t)})))()},handleCount:function(t){}}},E=$,F=n(61229),M=(0,m.Z)(E,r,a,!1,null,null,null),Q=M.exports;f()(M,{VDataTable:F.Z})}}]);
//# sourceMappingURL=631-legacy.7faa5aae.js.map